# Assignment for prospective Server-Side Engineers

# Index

---

---

# 提出課題

「要件」に従って、下記の二点の対応と提出をお願いします。

---

1. 「コーディングテスト対象」に従って、処理を実装してください
    - ソースコードを提出してください (提出物1)
        - Dockerを利用してください
        - DBとアプリケーションの定義は1つのdocker-compose内に記述してください (Dockerfileは複数で問題ございません)
        - アプリケーションの実装言語は問いません
        - 提出フォーマットは問いません (e.g. Githubのリンク, ファイル etc.)
2. 「サンプルデータ」をRDBに格納するにあたって最適と思われるER図を書いてください
    - ER図を提出してください (提出物2)
        - RDBの種類は問いません
        - 提出フォーマットは問いません (e.g. パワーポイント, Google Slide etc.)

---

二次面接ではこれらに関しての説明/ディスカッションの場とさせて頂きます。

# 要件

### コーディングテスト対象:

「サンプルデータ」を用いたデータ参照APIを作成してください

---

- DBに格納したサンプルデータを元に、データ参照のAPIを2種類作成してください
    - 商品検索API
        - endpoint: /products?jan=xxx
            - method: GET
        - APIへの入力値:
            - `jan`
        - APIからの出力値 (key: value):
            - `jan` : janの値
            - `product_name` : product_nameの値
            - `attributes` : attributesの値
            - `maker` : makerの値
            - `brand` : brandの値
            - `tags_from_description` : tags_from_descriptionの値
            - `tags_from_review` : tags_from_reviewの値
    - 格納されたデータの集計値参照API
        - endpoint: /reports
            - method: GET
        - APIへの入力値:
            - 無し
        - APIからの出力値 (key: value):
            - `product_name` : 充足率 (null or 空以外の件数値/全レコード数)
            - `attributes`: 充足率 (要素が1以上の件数値/全レコード数)
            - `maker` : 充足率 (null or 空以外の件数値/全レコード数)
            - `brand` : 充足率 (null or 空以外の件数値/全レコード数)
            - `tags_from_description` : 充足率 (要素が1以上の件数値/全レコード数)
            - `tags_from_review` : 充足率 (要素が1以上の件数値/全レコード数)

---

### サンプルデータ:

- サンプルデータ (jsonl)
    - https://drive.google.com/file/d/1tVI-VSUHLvdIV1aXuFc9_bzlIpdngOkZ/view?usp=sharing
- 項目
    1. jan (JANコード, string): 商品を特定するためのキー情報
    2. product_name (商品名, string): 商品の名称
    3. attributes (属性, json): 商品の構成要素
    4. maker (メーカー, string): 商品のメーカー
    5. brand (ブランド, string): 商品のブランド
    6. tags_from_description (説明文タグ, array[string]): 商品説明文から生成されたタグ
    7. tags_from_review (レビュータグ, array[string]): レビュー/口コミから生成されたタグ
- 補足
    - 公開されているデータをクローリングして得られた商品のデータです
    - サンプルデータ内の情報は `jan` で一意になっています

### 環境:

- 環境構築にはDockerを利用してください
- DBの種類は問いませんがRDBを利用してください
- アプリケーションを実装する言語は問いません

以上

{"jan":"0404233477019","product_name":"フレーム1NALP","attributes":[{"key":"JANコード","values":["0404233477019"]},{"key":"メーカー名","values":["その他メーカー"]},{"key":"商品スペック","values":["その他メーカー (メーカー)"]},{"key":"商品関連コード","values":["1476PAPV3612052-1 (品番・型番)","1476PAPV3612052-1"]}],"tags_from_description":[],"tags_from_review":[]}
{"jan":"221101200000","product_name":"袋ナット","attributes":[{"key":"型番 (商品名より抽出)","values":["P1.75"]}],"tags_from_description":["豪州","オーストラリア産","オージービーフ","六角","ロース","メートル"],"tags_from_review":[]}
{"jan":"4516946031351","product_name":"もうたま卵 キムチ味","attributes":[],"tags_from_description":[],"tags_from_review":[]}
{"jan":"4518906045170","product_name":"デニム伸びて楽らくレギンスパンツ","attributes":[],"tags_from_description":["レギンス","ストレッチ","スキニー","ボトムス","ベルーナ","キーワード"],"tags_from_review":[]}
{"jan":"4531661079471","product_name":"モレジェンヌ","attributes":[],"tags_from_description":["モレジェンヌ","ショーツ","骨盤底筋","介護用品"],"tags_from_review":[]}
{"jan":"4547366491098","product_name":"Mai Shiraishi Graduation Concert ~Always beside you~","attributes":[{"key":"商品関連コード","values":["SRXL-303","SRXL-303 (品番・型番)"]},{"key":"メーカー名","values":["(株)SMR"]},{"key":"商品スペック","values":["東京ドーム3daysでの開催を予定していたものの、新型コロナウイルス感染が拡大していた状況を受け中止となった卒業ライブ。約5か月が経った10月28日(水)にオンラインで開催した卒業ライブを完全収録! (C)RS (商品説明)"," (その他)"," (公開)","(株)SMR (メーカー)","\u003cBlu-r\u003e乃木坂46/Mai Shiraishi Graduation Concert ~Always beside you~(通常盤)(Blu-ray Disc) (タイトル)"," (原題)"]},{"key":"商品タイプ","values":[" (その他)",""]},{"key":"商品名","values":["\u003cBlu-r\u003e乃木坂46/Mai Shiraishi Graduation Concert ~Always beside you~(通常盤)(Blu-ray Disc)"]}],"tags_from_description":["通常盤","白石麻衣","完全収録","収録内容","オフショアガール","おいでシャンプー","制服のマネキン","ぐるぐるカーテン","失いたくないから","バレッタ"],"tags_from_review":[]}
{"jan":"4549414368925","product_name":"トップバリュ 女児規格 トドラーショーツ","attributes":[{"key":"商品タイプ","values":["ベビー・キッズ・学用品 \u003e キッズインナー(100cm~) \u003e 女の子肌着・靴下・パジャマ \u003e 女の子肌着 (関連カテゴリ)","肌着・衣料・服飾雑貨 (関連カテゴリ)","ベビー・キッズ・学用品 \u003e 【学用品特集】 \u003e 女の子 インナー100cm~ (関連カテゴリ)"]},{"key":"規格 (商品名より抽出)","values":["110cm","2枚組サイズ"]}],"tags_from_description":["ネットスーパー","対象外","ショーツ","洗濯機","カンボジア"],"tags_from_review":[]}
{"jan":"4562205585066","product_name":"映画豪華版","attributes":[{"key":"メーカー名","values":[""]},{"key":"商品スペック","values":["\u003cBlu-r\u003e映画「闇金ウシジマくんPart3」豪華版(Blu-ray Disc) (タイトル)","\\[画]ビスタサイズ=16:9LB[音]オリジナル言語日本語/オリジナル音声方式ドルビーデジタルステレオ (その他)","製作国日本/公開年2016年 (公開)"," (メーカー)","映画「闇金ウシジマくんPart3」 (原題)"," (商品説明)"]},{"key":"商品関連コード","values":["BSDP-1090 (品番・型番)","BSDP-1090"]},{"key":"商品タイプ","values":["\\[画]ビスタサイズ=16:9LB[音]オリジナル言語日本語/オリジナル音声方式ドルビーデジタルステレオ","\\[画]ビスタサイズ=16:9LB[音]オリジナル言語日本語/オリジナル音声方式ドルビーデジタルステレオ (その他)"]},{"key":"商品名","values":["\u003cBlu-r\u003e映画「闇金ウシジマくんPart3」豪華版(Blu-ray Disc)"]}],"tags_from_description":["山田孝之","豪華版"],"tags_from_review":[]}
{"jan":"4582546593322","product_name":"モードレッド ザ・ダーク・パレード","attributes":[{"key":"商品関連コード","values":["GQCS-91056","GQCS-91056 (品番・型番)"]},{"key":"入数","values":["デモニック #7\nマリグナンシー\nアイ・アム・チャーリー\nドラギング・フォー・ボディーズ\nザ・ダーク・パレード\nオール・アイズ・オン・ザ・プライズ\nデンテッド・ライヴズ\nスマッシュ・ゴーズ・ザ・ボトル\nノット・フォー・ユー ≪日本盤限定ボーナストラック≫\nザ・ラヴ・オブ・マネー ≪日本盤限定ボーナストラック≫"]},{"key":"商品スペック","values":["80年代、DJのいるスラッシュ・メタル・バンドとして大きな話題となったモードレッドが、何と27年ぶりのニュー・アルバムをリリース!当時のメンバー6人中5人が再集結し、あの頃のモードレッド・サウンドを21世紀に蘇らせる。もちろんDJも参加! (C)RS (商品説明)","\u003cCD\u003eモードレッド/ザ・ダーク・パレード 【CD / 日本盤限定ボーナストラック収録 / 日本語解説書封入 / 歌詞対訳付き】 (タイトル)"," (メーカー)","デモニック #7\nマリグナンシー\nアイ・アム・チャーリー\nドラギング・フォー・ボディーズ\nザ・ダーク・パレード\nオール・アイズ・オン・ザ・プライズ\nデンテッド・ライヴズ\nスマッシュ・ゴーズ・ザ・ボトル\nノット・フォー・ユー ≪日本盤限定ボーナストラック≫\nザ・ラヴ・オブ・マネー ≪日本盤限定ボーナストラック≫ (内容)"]},{"key":"メーカー名","values":[""]},{"key":"商品タイプ","values":["デモニック #7\nマリグナンシー\nアイ・アム・チャーリー\nドラギング・フォー・ボディーズ\nザ・ダーク・パレード\nオール・アイズ・オン・ザ・プライズ\nデンテッド・ライヴズ\nスマッシュ・ゴーズ・ザ・ボトル\nノット・フォー・ユー ≪日本盤限定ボーナストラック≫\nザ・ラヴ・オブ・マネー ≪日本盤限定ボーナストラック≫","デモニック #7\nマリグナンシー\nアイ・アム・チャーリー\nドラギング・フォー・ボディーズ\nザ・ダーク・パレード\nオール・アイズ・オン・ザ・プライズ\nデンテッド・ライヴズ\nスマッシュ・ゴーズ・ザ・ボトル\nノット・フォー・ユー ≪日本盤限定ボーナストラック≫\nザ・ラヴ・オブ・マネー ≪日本盤限定ボーナストラック≫ (内容)"]},{"key":"商品名","values":["\u003cCD\u003eモードレッド/ザ・ダーク・パレード 【CD / 日本盤限定ボーナストラック収録 / 日本語解説書封入 / 歌詞対訳付き】"]}],"tags_from_description":["モードレッド","日本盤","ボーナストラック","日本語","解説書","ザ・ダーク・パレード","スラッシュ・メタル","ニュー","アルバム","メンバー","サウンド","ボーナス・トラック"],"tags_from_review":[]}
{"jan":"4589609948563","product_name":"栄光の野郎ども","attributes":[{"key":"商品スペック","values":["\u003cDVD\u003e栄光の野郎ども(スペシャル・プライス) (タイトル)"," (その他)"," (商品説明)"," (原題)"," (公開)"," (メーカー)"]},{"key":"商品名","values":["\u003cDVD\u003e栄光の野郎ども(スペシャル・プライス)"]},{"key":"商品関連コード","values":["DLDP-56 (品番・型番)","DLDP-56"]},{"key":"商品タイプ","values":[""," (その他)"]},{"key":"メーカー名","values":[""]}],"tags_from_description":["トム・トライオン","スペシャル","プライス"],"tags_from_review":[]}
